@page "/"

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />

<label>
    <input type="checkbox" name="Fruit" value="1" />
    Mango
</label>
<br />
<label>
    <input type="checkbox" name="Fruit" value="2" />
    Apple
</label>
<br />
<label>
    <input type="checkbox" name="Fruit" value="3" />
    Pineapple
</label>
<br />
<label>
    <input type="checkbox" name="Fruit" value="4" />
    Papaya
</label>
<br />
<label>
    <input type="checkbox" name="Fruit" value="5" />
    Grapes
</label>
<br />
<br />
<asp:Button Text="Submit" runat="server" OnClick="Submit" />


<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <h2>User form</h2>
    <form method="post" action="postuser">
        <p>Name: <input name="name" /></p>
        <p>Age: <input name="age" type="number" /></p>
        <input type="submit" value="Send" />
    </form>
</body>
</html>

@code 

{

var builder = WebApplication.CreateBuilder();
var app = builder.Build();
 
app.Run(async (context) =>
{
    context.Response.ContentType = "text/html; charset=utf-8";
 
    // если обращение идет по адресу "/postuser", получаем данные формы
    if (context.Request.Path == "/postuser")
    {
        var form = context.Request.Form;
        string name = form["name"];
        string age = form["age"];
        await context.Response.WriteAsync($"<div><p>Name: {name}</p><p>Age: {age}</p></div>");
    }
    else
    {
        await context.Response.SendFileAsync("html/index.html");
    }
});
 
app.Run();



}